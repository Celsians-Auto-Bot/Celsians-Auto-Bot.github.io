<html>

<head>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>

    <!-- Additional files for the Highslide popup effect -->
    <script src="https://www.highcharts.com/samples/static/highslide-full.min.js"></script>
    <script src="https://www.highcharts.com/samples/static/highslide.config.js" charset="utf-8"></script>

    <link rel="stylesheet" type="text/css" href="https://www.highcharts.com/samples/static/highslide.css" />
</head>

<body>

    <div id="container3" style="width: 100%; height: 400px; margin: 0 auto"></div>

    <script>
        var dataBank = [];
        var dataSeries = [];
        var bch = [];
        var btc = [];
        var btg = [];
        var cel = [];
        var dai = [];
        var dash = [];
        var eth = [];
        var gusd = [];
        var leo = [];
        var ltc = [];
        var xrp = [];
        var omg = [];
        var orbs = [];
        var pax = [];
        var tusd = [];
        var usdc = [];
        var usdt = [];
        var xml = [];
        var xrp = [];
        var zec = [];
        var zrx = [];
        fetch("https://raw.githubusercontent.com/Celsians/Google-Sheets/master/data.json").then(response =>
            response.json().then(data => ({
                data: data,
                status: response.status
            })).then(res => {
                console.log(res.status);
                var rawData = res.data;
                console.log(rawData);

                rawData.forEach(e => {
                    // First Row, lets use this to create
                    if (e.Date != "Date") {
                        dataBank.push(e.Date);
                        bch.push(parseFloat(e.BCH));
                        btc.push(parseFloat(e.BTC));
                        btg.push(parseFloat(e.BTG));
                        cel.push(parseFloat(e.CEL));
                        dai.push(parseFloat(e.DAI));
                        dash.push(parseFloat(e.DASH));
                        eth.push(parseFloat(e.ETH));
                        gusd.push(parseFloat(e.GUSD));
                        leo.push(parseFloat(e.LEO));
                        ltc.push(parseFloat(e.LTC));
                        omg.push(parseFloat(e.OMG));
                        orbs.push(parseFloat(e.ORBS));
                        pax.push(parseFloat(e.PAX));
                        tusd.push(parseFloat(e.TUSD));
                        usdc.push(parseFloat(e.USDC));
                        usdt.push(parseFloat(e.USDT));
                        xml.push(parseFloat(e.XML));
                        xrp.push(parseFloat(e.XRP));
                        zec.push(parseFloat(e.ZEC));
                        zrx.push(parseFloat(e.ZRX));
                    }
                });

                var maxRate = Math.max(usdc);

                Highcharts.chart('container3', {
                    chart: {
                        type: 'line'
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        title: {
                            text: 'Dates'
                        },
                        categories: dataBank
                    },
                    yAxis: {
                        min: 0,
                        max: 10,
                        title: {
                            text: 'Interest Rate'
                        }
                    },
                    legend: {
                        reversed: false
                    },
                    plotOptions: {
                        series: {
                            dataLabels: {
                                enabled: false,
                                color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                            }
                        }
                    },
                    exporting: {
                        enabled: false
                    },
                    series: [{
                        name: 'CEL',
                        data: cel,
                        color: "#32325d"
                    }, {
                        name: 'BCH',
                        data: bch,
                        color: "green"
                    }, {
                        name: 'BTC',
                        data: btc,
                        color: "#f7931a"
                    }, {
                        name: 'BTG',
                        data: btg
                    }, {
                        name: 'DAI',
                        data: dai
                    }, {
                        name: 'DASH',
                        data: dash
                    }, {
                        name: 'ETH',
                        data: eth,
                        color: "purple"
                    }, {
                        name: 'GUSD',
                        data: gusd
                    }, {
                        name: 'LEO',
                        data: leo
                    }, {
                        name: 'LTC',
                        data: ltc,
                        color: "#c0c0c0"
                    }, {
                        name: 'OMG',
                        data: omg
                    }, {
                        name: 'ORBS',
                        data: orbs
                    }, {
                        name: 'PAX',
                        data: pax
                    }, {
                        name: 'TUSD',
                        data: tusd
                    }, {
                        name: 'USDC',
                        data: usdc
                    }, {
                        name: 'USDT',
                        data: usdt
                    }, {
                        name: 'XML',
                        data: xml
                    }, {
                        name: 'XRP',
                        data: xrp,
                        color: "#5c5c5c"
                    }, {
                        name: 'ZEC',
                        data: zec
                    }, {
                        name: 'ZRX',
                        data: zrx
                    }]
                });
            }));
    </script>
</body>

</html>
